(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bb1f1"],{"39b7":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",[t._v(t._s(t.heading))]),s("div",{staticClass:"flex items-start",attrs:{id:"gallery"}},t._l(t.splitPhotos,(function(e,r){return s("div",{key:r,class:{col1:0===r,col2:1===r,col3:2===r}},t._l(e,(function(t){return s("GalleryItem",{key:t.id,staticClass:"gallery-item",attrs:{photo:t}})})),1)})),0),t.isLastPage?t._e():s("div",{staticClass:"text-center my-10"},["updating"===t.status?s("Preloader"):s("div",{staticClass:"btn-large waves-effect waves-light grey darken-4",on:{click:t.onLoadMore}},[t._v(" Load more "),s("i",{staticClass:"material-icons right"},[t._v("arrow_forward")])])],1)])},o=[],n=(s("a4d3"),s("4de4"),s("7db0"),s("4160"),s("d81d"),s("a434"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("2fa7")),i=s("2f62"),a=s("4360"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"photo"},[s("router-link",{staticClass:"flex",attrs:{to:"/photos/"+t.photo.id}},[s("img",{staticClass:"photo__img",attrs:{src:t.photo.urls.small,alt:"Photo by "+t.fullName}})]),s("a",{staticClass:"user",attrs:{href:t.photo.user.links.html,target:"_blank",rel:"noopener noreferrer"}},[s("img",{staticClass:"rounded-full",attrs:{src:t.photo.user.profile_image.small,alt:""}}),t._v(" "+t._s(t.fullName)+" ")]),s("a",{staticClass:"download",attrs:{href:t.photo.links.download,target:"_blank",rel:"noopener noreferrer"}},[s("i",{staticClass:"material-icons"},[t._v("file_download")])])],1)},c=[],h={name:"GalleryItem",computed:{fullName:function(){var t=this.photo.user.first_name;return this.photo.user.last_name&&(t+=" "+this.photo.user.last_name),t}},props:{photo:Object}},u=h,d=s("2877"),f=Object(d["a"])(u,l,c,!1,null,null,null),p=f.exports,m=s("f152");function b(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?b(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var v={name:"Gallery",components:{GalleryItem:p,Preloader:m["a"]},data:function(){return{splitPhotos:[[]],heights:[0],cols:null}},computed:g({},Object(i["b"])(["heading","photos","isLastPage","status"])),methods:{onLoadMore:function(){a["a"].dispatch("fetchPhotos",{replace:!1})},resizeHandler:function(){window.innerWidth<600?this.cols=1:window.innerWidth<1100?this.cols=2:this.cols=3},resolveCols:function(t){var e=this;t.forEach((function(t){var s=e.indexOfMin(e.heights);e.splitPhotos[s].push(t),e.heights[s]+=t.height/t.width}))},resetCols:function(t){this.splitPhotos=[[],[],[]].splice(3-this.cols),this.heights=[0,0,0].splice(3-this.cols),this.resolveCols(t)},indexOfMin:function(t){if(0===t.length)return-1;var e=t[0],s=0;return t.forEach((function(t,r){t<e&&(e=t,s=r)})),s}},watch:{photos:function(t,e){0!==t.length?e.length>0&&t[0].id!==e[0].id?this.resetCols(t):this.resolveCols(t.map((function(t){return t.id})).filter((function(t){return!e.find((function(e){return e.id===t}))})).map((function(e){return t.find((function(t){return t.id===e}))}))):this.resetCols([])},cols:function(t,e){t!==e&&this.resetCols(this.photos)}},destroyed:function(){window.removeEventListener("resize",this.resizeHandler)},created:function(){window.addEventListener("resize",this.resizeHandler),this.resizeHandler()}},w=v,O=Object(d["a"])(w,r,o,!1,null,null,null);e["default"]=O.exports}}]);
//# sourceMappingURL=chunk-2d0bb1f1.6c94659b.js.map